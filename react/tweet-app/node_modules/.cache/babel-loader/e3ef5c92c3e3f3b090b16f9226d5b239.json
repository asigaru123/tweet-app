{"ast":null,"code":"var _s = $RefreshSig$();\n\nimport { useMemo, useState } from \"react\";\nimport { useCurrentLoginUser } from \"./useCurrentLoginUser\";\nimport axios from \"axios\";\nexport const useGetAllTweets = () => {\n  _s();\n\n  const [getAllTweetsState, setGetAllTweetsState] = useState(false);\n  const {\n    loginUser\n  } = useCurrentLoginUser();\n  const [allTweets, setAllTweets] = useState([]);\n  const getAllTweets = useMemo(() => {\n    setGetAllTweetsState(true);\n    axios.get(\"http://localhost:8080/api/home/allTweets\", {\n      headers: {\n        Authorization: loginUser.token\n      }\n    }).then(res => {\n      setAllTweets(res.data.filter(allTweet => {\n        return allTweet.email !== loginUser.email;\n      }));\n      setGetAllTweetsState(false);\n    }).catch(() => {\n      setGetAllTweetsState(false);\n    });\n  }, []);\n  return {\n    getAllTweetsState,\n    allTweets,\n    getAllTweets\n  };\n};\n\n_s(useGetAllTweets, \"cqkUBiN5l21NaBPRVzjwRjcdLzA=\", false, function () {\n  return [useCurrentLoginUser];\n});","map":{"version":3,"sources":["C:/Users/yuma/Desktop/フロント/tweet-app/src/hooks/useGetAllTweets.tsx"],"names":["useMemo","useState","useCurrentLoginUser","axios","useGetAllTweets","getAllTweetsState","setGetAllTweetsState","loginUser","allTweets","setAllTweets","getAllTweets","get","headers","Authorization","token","then","res","data","filter","allTweet","email","catch"],"mappings":";;AAAA,SAAsBA,OAAtB,EAA+BC,QAA/B,QAA+C,OAA/C;AACA,SAASC,mBAAT,QAAoC,uBAApC;AAEA,OAAOC,KAAP,MAAkB,OAAlB;AAEA,OAAO,MAAMC,eAAe,GAAG,MAAM;AAAA;;AACjC,QAAM,CAACC,iBAAD,EAAoBC,oBAApB,IAA4CL,QAAQ,CAAC,KAAD,CAA1D;AACA,QAAM;AAACM,IAAAA;AAAD,MAAcL,mBAAmB,EAAvC;AACA,QAAM,CAACM,SAAD,EAAYC,YAAZ,IAA4BR,QAAQ,CAAmB,EAAnB,CAA1C;AACA,QAAMS,YAAY,GAAGV,OAAO,CAAC,MAAM;AAC/BM,IAAAA,oBAAoB,CAAC,IAAD,CAApB;AACAH,IAAAA,KAAK,CAACQ,GAAN,CAA4B,0CAA5B,EAAwE;AAACC,MAAAA,OAAO,EAAE;AAACC,QAAAA,aAAa,EAAEN,SAAS,CAACO;AAA1B;AAAV,KAAxE,EACCC,IADD,CACOC,GAAD,IAAS;AACXP,MAAAA,YAAY,CAACO,GAAG,CAACC,IAAJ,CAASC,MAAT,CAAiBC,QAAD,IAAc;AACvC,eAAOA,QAAQ,CAACC,KAAT,KAAmBb,SAAS,CAACa,KAApC;AACH,OAFY,CAAD,CAAZ;AAGAd,MAAAA,oBAAoB,CAAC,KAAD,CAApB;AACH,KAND,EAOCe,KAPD,CAOO,MAAM;AACTf,MAAAA,oBAAoB,CAAC,KAAD,CAApB;AACH,KATD;AAUH,GAZ2B,EAYzB,EAZyB,CAA5B;AAcA,SAAO;AAACD,IAAAA,iBAAD;AAAoBG,IAAAA,SAApB;AAA+BE,IAAAA;AAA/B,GAAP;AACH,CAnBM;;GAAMN,e;UAEWF,mB","sourcesContent":["import { useCallback, useMemo, useState } from \"react\";\r\nimport { useCurrentLoginUser } from \"./useCurrentLoginUser\";\r\nimport { TweetType } from \"../types/tweetType\";\r\nimport axios from \"axios\";\r\n\r\nexport const useGetAllTweets = () => {\r\n    const [getAllTweetsState, setGetAllTweetsState] = useState(false);\r\n    const {loginUser} = useCurrentLoginUser();\r\n    const [allTweets, setAllTweets] = useState<Array<TweetType>>([]);\r\n    const getAllTweets = useMemo(() => {\r\n        setGetAllTweetsState(true);\r\n        axios.get<Array<TweetType>>(\"http://localhost:8080/api/home/allTweets\", {headers: {Authorization: loginUser.token as string}})\r\n        .then((res) => {\r\n            setAllTweets(res.data.filter((allTweet) => {\r\n                return allTweet.email !== loginUser.email;\r\n            }));\r\n            setGetAllTweetsState(false);\r\n        })\r\n        .catch(() => {\r\n            setGetAllTweetsState(false);\r\n        });\r\n    }, []);\r\n\r\n    return {getAllTweetsState, allTweets, getAllTweets};\r\n};"]},"metadata":{},"sourceType":"module"}