{"ast":null,"code":"var _s = $RefreshSig$();\n\nimport axios from \"axios\";\nimport { useState } from \"react\";\nimport { useCurrentLoginUser } from \"./useCurrentLoginUser\";\nimport { useMessage } from \"./useMessage\";\nexport const useInsertTweet = () => {\n  _s();\n\n  const [insertTweetState, setInsertTweetState] = useState(false);\n  const {\n    showMessage\n  } = useMessage();\n  const {\n    loginUser\n  } = useCurrentLoginUser();\n\n  const insertTweet = tweet => {\n    console.log(\"1\" + insertTweetState);\n    setInsertTweetState(true);\n    console.log(\"2\" + insertTweetState);\n    axios.post(\"http://localhost:8080/api/home/insertTweet\", {\n      email: loginUser.email,\n      username: loginUser.username,\n      tweet: tweet\n    }, {\n      headers: {\n        Authorization: loginUser.token\n      }\n    }).then(res => {\n      showMessage({\n        title: res.data,\n        status: \"success\"\n      });\n      console.log(\"3\" + insertTweetState);\n      setInsertTweetState(false);\n      console.log(\"4\" + insertTweetState);\n    }).catch(res => {\n      showMessage({\n        title: res.data,\n        status: \"error\"\n      });\n      setInsertTweetState(false);\n    });\n  };\n\n  return {\n    insertTweetState,\n    insertTweet\n  };\n};\n\n_s(useInsertTweet, \"GGGAWDCQzAhYMUnYKfK8MVgMlaI=\", false, function () {\n  return [useMessage, useCurrentLoginUser];\n});","map":{"version":3,"sources":["C:/Users/yuma/Desktop/フロント/tweet-app/src/hooks/useInsertTweet.tsx"],"names":["axios","useState","useCurrentLoginUser","useMessage","useInsertTweet","insertTweetState","setInsertTweetState","showMessage","loginUser","insertTweet","tweet","console","log","post","email","username","headers","Authorization","token","then","res","title","data","status","catch"],"mappings":";;AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,SAASC,QAAT,QAAyB,OAAzB;AAEA,SAASC,mBAAT,QAAoC,uBAApC;AACA,SAASC,UAAT,QAA2B,cAA3B;AAEA,OAAO,MAAMC,cAAc,GAAG,MAAM;AAAA;;AAChC,QAAM,CAACC,gBAAD,EAAmBC,mBAAnB,IAA0CL,QAAQ,CAAC,KAAD,CAAxD;AACA,QAAM;AAACM,IAAAA;AAAD,MAAgBJ,UAAU,EAAhC;AACA,QAAM;AAACK,IAAAA;AAAD,MAAcN,mBAAmB,EAAvC;;AACA,QAAMO,WAAW,GAAIC,KAAD,IAAmB;AACnCC,IAAAA,OAAO,CAACC,GAAR,CAAY,MAAMP,gBAAlB;AACAC,IAAAA,mBAAmB,CAAC,IAAD,CAAnB;AACAK,IAAAA,OAAO,CAACC,GAAR,CAAY,MAAMP,gBAAlB;AACAL,IAAAA,KAAK,CAACa,IAAN,CAAsB,4CAAtB,EAAoE;AAACC,MAAAA,KAAK,EAAEN,SAAS,CAACM,KAAlB;AAAyBC,MAAAA,QAAQ,EAAEP,SAAS,CAACO,QAA7C;AAAuDL,MAAAA,KAAK,EAAEA;AAA9D,KAApE,EAA0I;AAACM,MAAAA,OAAO,EAAE;AAACC,QAAAA,aAAa,EAAET,SAAS,CAACU;AAA1B;AAAV,KAA1I,EACCC,IADD,CACOC,GAAD,IAAS;AACXb,MAAAA,WAAW,CAAC;AAACc,QAAAA,KAAK,EAAED,GAAG,CAACE,IAAZ;AAA4BC,QAAAA,MAAM,EAAE;AAApC,OAAD,CAAX;AACAZ,MAAAA,OAAO,CAACC,GAAR,CAAY,MAAMP,gBAAlB;AACAC,MAAAA,mBAAmB,CAAC,KAAD,CAAnB;AACAK,MAAAA,OAAO,CAACC,GAAR,CAAY,MAAMP,gBAAlB;AACH,KAND,EAOCmB,KAPD,CAOQJ,GAAD,IAAS;AACZb,MAAAA,WAAW,CAAC;AAACc,QAAAA,KAAK,EAAED,GAAG,CAACE,IAAZ;AAA4BC,QAAAA,MAAM,EAAE;AAApC,OAAD,CAAX;AACAjB,MAAAA,mBAAmB,CAAC,KAAD,CAAnB;AACH,KAVD;AAWH,GAfD;;AAiBA,SAAO;AAACD,IAAAA,gBAAD;AAAmBI,IAAAA;AAAnB,GAAP;AACH,CAtBM;;GAAML,c;UAEaD,U,EACFD,mB","sourcesContent":["import axios from \"axios\";\r\nimport { useState } from \"react\";\r\nimport { TweetType } from \"../types/tweetType\";\r\nimport { useCurrentLoginUser } from \"./useCurrentLoginUser\";\r\nimport { useMessage } from \"./useMessage\";\r\n\r\nexport const useInsertTweet = () => {\r\n    const [insertTweetState, setInsertTweetState] = useState(false);\r\n    const {showMessage} = useMessage();\r\n    const {loginUser} = useCurrentLoginUser();\r\n    const insertTweet = (tweet: string) => {\r\n        console.log(\"1\" + insertTweetState);\r\n        setInsertTweetState(true);\r\n        console.log(\"2\" + insertTweetState);\r\n        axios.post<TweetType>(\"http://localhost:8080/api/home/insertTweet\", {email: loginUser.email, username: loginUser.username, tweet: tweet}, {headers: {Authorization: loginUser.token as string}})\r\n        .then((res) => {\r\n            showMessage({title: res.data as string, status: \"success\"});\r\n            console.log(\"3\" + insertTweetState);\r\n            setInsertTweetState(false);\r\n            console.log(\"4\" + insertTweetState);\r\n        })\r\n        .catch((res) => {\r\n            showMessage({title: res.data as string, status: \"error\"});\r\n            setInsertTweetState(false);\r\n        });\r\n    };\r\n\r\n    return {insertTweetState, insertTweet};\r\n};"]},"metadata":{},"sourceType":"module"}