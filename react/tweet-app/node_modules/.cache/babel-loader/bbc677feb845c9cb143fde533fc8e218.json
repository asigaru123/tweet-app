{"ast":null,"code":"var _s = $RefreshSig$();\n\nimport axios from \"axios\";\nimport { useState } from \"react\";\nimport { useCurrentLoginUser } from \"./useCurrentLoginUser\";\nimport { useMessage } from \"./useMessage\";\nexport const useEditUserAccount = () => {\n  _s();\n\n  const {\n    showMessage\n  } = useMessage();\n  const [editUserAccountState, setEditUserAccount] = useState(false);\n  const [findUserAccountState, setfindUserAccount] = useState(false);\n  const {\n    loginUser,\n    setLoginUser\n  } = useCurrentLoginUser();\n\n  const editUserAccount = (password, username) => {\n    setEditUserAccount(true);\n    axios.post(\"http://localhost:8080/api/login/editUserAccount\", {\n      email: loginUser.email,\n      password: password,\n      username: username\n    }, {\n      headers: {\n        Authorization: loginUser.token\n      }\n    }).then(res => {\n      showMessage({\n        title: res.data,\n        status: \"success\"\n      });\n      setEditUserAccount(false);\n    }).catch(res => {\n      showMessage({\n        title: res.data,\n        status: \"success\"\n      });\n      setEditUserAccount(false);\n    });\n  };\n\n  const findUserAccount = () => {\n    setfindUserAccount(true);\n    axios.get(`http://localhost:8080/api/login/findUserAccount/${loginUser.email}`, {\n      headers: {\n        Authorization: loginUser.token\n      }\n    }).then(res => {\n      console.log(\"findUserAccount\");\n      setLoginUser({ ...loginUser,\n        username: res.data.username\n      });\n      console.log(loginUser.username);\n      setfindUserAccount(false);\n    });\n  };\n\n  return {\n    editUserAccountState,\n    findUserAccountState,\n    editUserAccount,\n    findUserAccount\n  };\n};\n\n_s(useEditUserAccount, \"J9a6tRZUtgn7fGGPMfR9l0IpqtY=\", false, function () {\n  return [useMessage, useCurrentLoginUser];\n});","map":{"version":3,"sources":["C:/Users/yuma/Desktop/フロント/tweet-app/src/hooks/useEditUserAccount.tsx"],"names":["axios","useState","useCurrentLoginUser","useMessage","useEditUserAccount","showMessage","editUserAccountState","setEditUserAccount","findUserAccountState","setfindUserAccount","loginUser","setLoginUser","editUserAccount","password","username","post","email","headers","Authorization","token","then","res","title","data","status","catch","findUserAccount","get","console","log"],"mappings":";;AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,SAASC,QAAT,QAAyB,OAAzB;AAEA,SAASC,mBAAT,QAAoC,uBAApC;AACA,SAASC,UAAT,QAA2B,cAA3B;AAEA,OAAO,MAAMC,kBAAkB,GAAG,MAAM;AAAA;;AACpC,QAAM;AAACC,IAAAA;AAAD,MAAgBF,UAAU,EAAhC;AACA,QAAM,CAACG,oBAAD,EAAuBC,kBAAvB,IAA6CN,QAAQ,CAAC,KAAD,CAA3D;AACA,QAAM,CAACO,oBAAD,EAAuBC,kBAAvB,IAA6CR,QAAQ,CAAC,KAAD,CAA3D;AACA,QAAM;AAACS,IAAAA,SAAD;AAAYC,IAAAA;AAAZ,MAA4BT,mBAAmB,EAArD;;AACA,QAAMU,eAAe,GAAG,CAACC,QAAD,EAAmBC,QAAnB,KAAwC;AAC5DP,IAAAA,kBAAkB,CAAC,IAAD,CAAlB;AACAP,IAAAA,KAAK,CAACe,IAAN,CAAW,iDAAX,EAA8D;AAACC,MAAAA,KAAK,EAAEN,SAAS,CAACM,KAAlB;AAAyBH,MAAAA,QAAQ,EAAEA,QAAnC;AAA6CC,MAAAA,QAAQ,EAAEA;AAAvD,KAA9D,EAAgI;AAACG,MAAAA,OAAO,EAAE;AAACC,QAAAA,aAAa,EAAER,SAAS,CAACS;AAA1B;AAAV,KAAhI,EACCC,IADD,CACOC,GAAD,IAAS;AACXhB,MAAAA,WAAW,CAAC;AAACiB,QAAAA,KAAK,EAAED,GAAG,CAACE,IAAZ;AAA4BC,QAAAA,MAAM,EAAE;AAApC,OAAD,CAAX;AACAjB,MAAAA,kBAAkB,CAAC,KAAD,CAAlB;AACH,KAJD,EAKCkB,KALD,CAKQJ,GAAD,IAAS;AACZhB,MAAAA,WAAW,CAAC;AAACiB,QAAAA,KAAK,EAAED,GAAG,CAACE,IAAZ;AAA4BC,QAAAA,MAAM,EAAE;AAApC,OAAD,CAAX;AACAjB,MAAAA,kBAAkB,CAAC,KAAD,CAAlB;AACH,KARD;AASH,GAXD;;AAYA,QAAMmB,eAAe,GAAG,MAAM;AAC1BjB,IAAAA,kBAAkB,CAAC,IAAD,CAAlB;AACAT,IAAAA,KAAK,CAAC2B,GAAN,CAAqB,mDAAkDjB,SAAS,CAACM,KAAM,EAAvF,EAA0F;AAACC,MAAAA,OAAO,EAAE;AAACC,QAAAA,aAAa,EAAER,SAAS,CAACS;AAA1B;AAAV,KAA1F,EACCC,IADD,CACOC,GAAD,IAAS;AACXO,MAAAA,OAAO,CAACC,GAAR,CAAY,iBAAZ;AACAlB,MAAAA,YAAY,CAAC,EAAC,GAAGD,SAAJ;AAAeI,QAAAA,QAAQ,EAAEO,GAAG,CAACE,IAAJ,CAAST;AAAlC,OAAD,CAAZ;AACAc,MAAAA,OAAO,CAACC,GAAR,CAAYnB,SAAS,CAACI,QAAtB;AACAL,MAAAA,kBAAkB,CAAC,KAAD,CAAlB;AACH,KAND;AAOH,GATD;;AAWA,SAAO;AAACH,IAAAA,oBAAD;AAAuBE,IAAAA,oBAAvB;AAA6CI,IAAAA,eAA7C;AAA8Dc,IAAAA;AAA9D,GAAP;AACH,CA7BM;;GAAMtB,kB;UACaD,U,EAGYD,mB","sourcesContent":["import axios from \"axios\";\r\nimport { useState } from \"react\";\r\nimport { UserType } from \"../types/userType\";\r\nimport { useCurrentLoginUser } from \"./useCurrentLoginUser\";\r\nimport { useMessage } from \"./useMessage\";\r\n\r\nexport const useEditUserAccount = () => {\r\n    const {showMessage} = useMessage();\r\n    const [editUserAccountState, setEditUserAccount] = useState(false);\r\n    const [findUserAccountState, setfindUserAccount] = useState(false);\r\n    const {loginUser, setLoginUser} = useCurrentLoginUser();\r\n    const editUserAccount = (password: string, username: string) => {\r\n        setEditUserAccount(true);\r\n        axios.post(\"http://localhost:8080/api/login/editUserAccount\", {email: loginUser.email, password: password, username: username}, {headers: {Authorization: loginUser.token as string}})\r\n        .then((res) => {\r\n            showMessage({title: res.data as string, status: \"success\"});\r\n            setEditUserAccount(false);\r\n        })\r\n        .catch((res) => {\r\n            showMessage({title: res.data as string, status: \"success\"});\r\n            setEditUserAccount(false)\r\n        });\r\n    };\r\n    const findUserAccount = () => {\r\n        setfindUserAccount(true);\r\n        axios.get<UserType>(`http://localhost:8080/api/login/findUserAccount/${loginUser.email}`, {headers: {Authorization: loginUser.token as string}})\r\n        .then((res) => {\r\n            console.log(\"findUserAccount\");\r\n            setLoginUser({...loginUser, username: res.data.username});\r\n            console.log(loginUser.username);\r\n            setfindUserAccount(false);\r\n        })\r\n    };\r\n\r\n    return {editUserAccountState, findUserAccountState, editUserAccount, findUserAccount};\r\n};"]},"metadata":{},"sourceType":"module"}