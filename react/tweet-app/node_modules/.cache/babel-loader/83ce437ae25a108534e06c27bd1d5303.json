{"ast":null,"code":"var _s = $RefreshSig$();\n\nimport { useState } from \"react\";\nimport { useCurrentLoginUser } from \"./useCurrentLoginUser\";\nimport axios from \"axios\";\nimport { useHistory } from \"react-router\";\nexport const useGetAllTweets = () => {\n  _s();\n\n  const history = useHistory();\n  const [getAllTweetsState, setGetAllTweetsState] = useState(false);\n  const {\n    loginUser\n  } = useCurrentLoginUser();\n  const [allTweets, setAllTweets] = useState([]);\n\n  const getAllTweets = () => {\n    setGetAllTweetsState(true);\n    axios.get(\"http://localhost:8080/api/home/allTweets\", {\n      headers: {\n        Authorization: loginUser.token\n      }\n    }).then(res => {\n      setAllTweets(res.data);\n      setGetAllTweetsState(false);\n    }).catch(() => {\n      setGetAllTweetsState(false);\n      console.log(loginUser);\n      history.push(\"/\");\n    });\n  };\n\n  return {\n    getAllTweetsState,\n    allTweets,\n    getAllTweets\n  };\n};\n\n_s(useGetAllTweets, \"7xcmTtwJKUcy9/ajSsktc3s4efI=\", false, function () {\n  return [useHistory, useCurrentLoginUser];\n});","map":{"version":3,"sources":["C:/Users/yuma/Desktop/フロント/tweet-app/src/hooks/useGetAllTweets.tsx"],"names":["useState","useCurrentLoginUser","axios","useHistory","useGetAllTweets","history","getAllTweetsState","setGetAllTweetsState","loginUser","allTweets","setAllTweets","getAllTweets","get","headers","Authorization","token","then","res","data","catch","console","log","push"],"mappings":";;AAAA,SAASA,QAAT,QAAyB,OAAzB;AACA,SAASC,mBAAT,QAAoC,uBAApC;AAEA,OAAOC,KAAP,MAAkB,OAAlB;AACA,SAASC,UAAT,QAA2B,cAA3B;AAEA,OAAO,MAAMC,eAAe,GAAG,MAAM;AAAA;;AACjC,QAAMC,OAAO,GAAGF,UAAU,EAA1B;AACA,QAAM,CAACG,iBAAD,EAAoBC,oBAApB,IAA4CP,QAAQ,CAAC,KAAD,CAA1D;AACA,QAAM;AAACQ,IAAAA;AAAD,MAAcP,mBAAmB,EAAvC;AACA,QAAM,CAACQ,SAAD,EAAYC,YAAZ,IAA4BV,QAAQ,CAAmB,EAAnB,CAA1C;;AACA,QAAMW,YAAY,GAAG,MAAM;AACvBJ,IAAAA,oBAAoB,CAAC,IAAD,CAApB;AACAL,IAAAA,KAAK,CAACU,GAAN,CAA4B,0CAA5B,EAAwE;AAACC,MAAAA,OAAO,EAAE;AAACC,QAAAA,aAAa,EAAEN,SAAS,CAACO;AAA1B;AAAV,KAAxE,EACCC,IADD,CACOC,GAAD,IAAS;AACXP,MAAAA,YAAY,CAACO,GAAG,CAACC,IAAL,CAAZ;AACAX,MAAAA,oBAAoB,CAAC,KAAD,CAApB;AACH,KAJD,EAKCY,KALD,CAKO,MAAM;AACTZ,MAAAA,oBAAoB,CAAC,KAAD,CAApB;AACAa,MAAAA,OAAO,CAACC,GAAR,CAAYb,SAAZ;AACAH,MAAAA,OAAO,CAACiB,IAAR,CAAa,GAAb;AACH,KATD;AAUH,GAZD;;AAcA,SAAO;AAAChB,IAAAA,iBAAD;AAAoBG,IAAAA,SAApB;AAA+BE,IAAAA;AAA/B,GAAP;AACH,CApBM;;GAAMP,e;UACOD,U,EAEIF,mB","sourcesContent":["import { useState } from \"react\";\r\nimport { useCurrentLoginUser } from \"./useCurrentLoginUser\";\r\nimport { TweetType } from \"../types/tweetType\";\r\nimport axios from \"axios\";\r\nimport { useHistory } from \"react-router\";\r\n\r\nexport const useGetAllTweets = () => {\r\n    const history = useHistory();\r\n    const [getAllTweetsState, setGetAllTweetsState] = useState(false);\r\n    const {loginUser} = useCurrentLoginUser();\r\n    const [allTweets, setAllTweets] = useState<Array<TweetType>>([]);\r\n    const getAllTweets = () => {\r\n        setGetAllTweetsState(true);\r\n        axios.get<Array<TweetType>>(\"http://localhost:8080/api/home/allTweets\", {headers: {Authorization: loginUser.token as string}})\r\n        .then((res) => {\r\n            setAllTweets(res.data);\r\n            setGetAllTweetsState(false);\r\n        })\r\n        .catch(() => {\r\n            setGetAllTweetsState(false);\r\n            console.log(loginUser);\r\n            history.push(\"/\");\r\n        });\r\n    };\r\n\r\n    return {getAllTweetsState, allTweets, getAllTweets};\r\n};"]},"metadata":{},"sourceType":"module"}