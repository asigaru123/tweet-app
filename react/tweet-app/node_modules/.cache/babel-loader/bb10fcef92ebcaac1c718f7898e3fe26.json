{"ast":null,"code":"var _s = $RefreshSig$();\n\nimport axios from \"axios\";\nimport { useState } from \"react\";\nimport { useCurrentLoginUser } from \"./useCurrentLoginUser\";\nimport { useMessage } from \"./useMessage\";\nexport const useFollow = () => {\n  _s();\n\n  const {\n    showMessage\n  } = useMessage();\n  const [followState, setFollowState] = useState(false);\n  const [changeFollowState, setChangeFollowState] = useState(false);\n  const {\n    loginUser\n  } = useCurrentLoginUser();\n\n  const getMyFollow = (email, token) => {\n    setFollowState(true);\n    axios.get(`http://10.0.1.30:8080/api/login/getMyFollow/${email === undefined ? loginUser.email : email}`, {\n      headers: {\n        Authorization: token === undefined ? loginUser.token : token\n      }\n    }).then(res => {\n      Object.assign(loginUser, {\n        follow: res.data.followResource,\n        follower: res.data.followerResource\n      });\n      setFollowState(false);\n    });\n  };\n\n  const insertFollow = followemail => {\n    setChangeFollowState(true);\n    axios.post(\"http://10.0.1.30:8080/api/home/insertFollow\", {\n      email: loginUser.email,\n      followemail: followemail\n    }, {\n      headers: {\n        Authorization: loginUser.token\n      }\n    }).then(res => {\n      showMessage({\n        title: res.data,\n        status: \"success\"\n      });\n      setChangeFollowState(false);\n    }).catch(res => {\n      showMessage({\n        title: res.data,\n        status: \"error\"\n      });\n      setChangeFollowState(false);\n    });\n  };\n\n  const deleteFollow = followemail => {\n    setChangeFollowState(true);\n    axios.delete(`http://10.0.1.30:8080/api/home/deleteFollow/${loginUser.email}/${followemail}`, {\n      headers: {\n        Authorization: loginUser.token\n      }\n    }).then(res => {\n      showMessage({\n        title: res.data,\n        status: \"success\"\n      });\n      setChangeFollowState(false);\n    }).catch(res => {\n      showMessage({\n        title: res.data,\n        status: \"error\"\n      });\n      setChangeFollowState(false);\n    });\n  };\n\n  return {\n    followState,\n    changeFollowState,\n    getMyFollow,\n    insertFollow,\n    deleteFollow\n  };\n};\n\n_s(useFollow, \"vx/CYKTWgJBRKV9DUnqo+SXlpwQ=\", false, function () {\n  return [useMessage, useCurrentLoginUser];\n});","map":{"version":3,"sources":["C:/Users/yuma/Desktop/フロント/tweet-app/src/hooks/useFollow.tsx"],"names":["axios","useState","useCurrentLoginUser","useMessage","useFollow","showMessage","followState","setFollowState","changeFollowState","setChangeFollowState","loginUser","getMyFollow","email","token","get","undefined","headers","Authorization","then","res","Object","assign","follow","data","followResource","follower","followerResource","insertFollow","followemail","post","title","status","catch","deleteFollow","delete"],"mappings":"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","sourcesContent":["import axios from \"axios\";\r\nimport { useState } from \"react\";\r\nimport { useCurrentLoginUser } from \"./useCurrentLoginUser\";\r\nimport { useMessage } from \"./useMessage\";\r\nimport { FollowListType } from \"../types/followListType\";\r\n\r\nexport const useFollow = () => {\r\n    const {showMessage} = useMessage();\r\n    const [followState, setFollowState] = useState(false);\r\n    const [changeFollowState, setChangeFollowState] = useState(false);\r\n    const {loginUser} = useCurrentLoginUser();\r\n    const getMyFollow = (email?: string, token?: string) => {\r\n        setFollowState(true);\r\n        axios.get<FollowListType>(`http://10.0.1.30:8080/api/login/getMyFollow/${email === undefined ? (loginUser.email) : (email)}`,\r\n            {headers: {Authorization: token === undefined ? (loginUser.token as string) : (token)}})\r\n        .then((res) => {\r\n            Object.assign(loginUser, {follow: res.data.followResource, follower: res.data.followerResource});\r\n            setFollowState(false);\r\n        })\r\n    };\r\n    const insertFollow = (followemail?: string) => {\r\n        setChangeFollowState(true);\r\n        axios.post(\"http://10.0.1.30:8080/api/home/insertFollow\", {email: loginUser.email, followemail: followemail}, {headers: {Authorization: loginUser.token as string}})\r\n        .then((res) => {\r\n            showMessage({title: res.data as string, status: \"success\"});\r\n            setChangeFollowState(false);\r\n        })\r\n        .catch((res) => {\r\n            showMessage({title: res.data as string, status: \"error\"});\r\n            setChangeFollowState(false);\r\n        });\r\n    };\r\n    const deleteFollow = (followemail?: string) => {\r\n        setChangeFollowState(true);\r\n        axios.delete(`http://10.0.1.30:8080/api/home/deleteFollow/${loginUser.email}/${followemail}`, {headers: {Authorization: loginUser.token as string}})\r\n        .then((res) => {\r\n            showMessage({title: res.data as string, status: \"success\"});\r\n            setChangeFollowState(false);\r\n        })\r\n        .catch((res) => {\r\n            showMessage({title: res.data as string, status: \"error\"});\r\n            setChangeFollowState(false);\r\n        });\r\n    };\r\n\r\n    return {followState, changeFollowState, getMyFollow, insertFollow, deleteFollow};\r\n};"]},"metadata":{},"sourceType":"module"}