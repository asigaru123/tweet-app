{"ast":null,"code":"var _s = $RefreshSig$();\n\nimport { useState } from \"react\";\nimport { useCurrentLoginUser } from \"./useCurrentLoginUser\";\nimport axios from \"axios\";\nexport const useGetAllTweets = () => {\n  _s();\n\n  const ip = process.env.REACT_APP_IP_APSRV;\n  const [getAllTweetsState, setGetAllTweetsState] = useState(false);\n  const {\n    loginUser\n  } = useCurrentLoginUser();\n  const [allTweets, setAllTweets] = useState([]);\n\n  const getAllTweets = () => {\n    setGetAllTweetsState(true);\n    axios.get(`http://${ip}:8080/api/home/allTweets`, {\n      headers: {\n        Authorization: loginUser.token\n      }\n    }).then(res => {\n      setAllTweets(res.data.filter(allTweet => {\n        return allTweet.email !== loginUser.email;\n      }));\n      setGetAllTweetsState(false);\n    }).catch(() => {\n      setGetAllTweetsState(false);\n    });\n  };\n\n  return {\n    getAllTweetsState,\n    allTweets,\n    getAllTweets\n  };\n};\n\n_s(useGetAllTweets, \"HSXpzw+b7LuqSOxsZbUT16tyiOM=\", false, function () {\n  return [useCurrentLoginUser];\n});","map":{"version":3,"sources":["C:/Users/yuma/Desktop/dev/フロント/tweet-app/src/hooks/useGetAllTweets.tsx"],"names":["useState","useCurrentLoginUser","axios","useGetAllTweets","ip","process","env","REACT_APP_IP_APSRV","getAllTweetsState","setGetAllTweetsState","loginUser","allTweets","setAllTweets","getAllTweets","get","headers","Authorization","token","then","res","data","filter","allTweet","email","catch"],"mappings":";;AAAA,SAASA,QAAT,QAAyB,OAAzB;AACA,SAASC,mBAAT,QAAoC,uBAApC;AAEA,OAAOC,KAAP,MAAkB,OAAlB;AAEA,OAAO,MAAMC,eAAe,GAAG,MAAM;AAAA;;AACjC,QAAMC,EAAE,GAAGC,OAAO,CAACC,GAAR,CAAYC,kBAAvB;AACA,QAAM,CAACC,iBAAD,EAAoBC,oBAApB,IAA4CT,QAAQ,CAAC,KAAD,CAA1D;AACA,QAAM;AAACU,IAAAA;AAAD,MAAcT,mBAAmB,EAAvC;AACA,QAAM,CAACU,SAAD,EAAYC,YAAZ,IAA4BZ,QAAQ,CAAmB,EAAnB,CAA1C;;AACA,QAAMa,YAAY,GAAG,MAAM;AACvBJ,IAAAA,oBAAoB,CAAC,IAAD,CAApB;AACAP,IAAAA,KAAK,CAACY,GAAN,CAA6B,UAASV,EAAG,0BAAzC,EAAoE;AAACW,MAAAA,OAAO,EAAE;AAACC,QAAAA,aAAa,EAAEN,SAAS,CAACO;AAA1B;AAAV,KAApE,EACCC,IADD,CACOC,GAAD,IAAS;AACXP,MAAAA,YAAY,CAACO,GAAG,CAACC,IAAJ,CAASC,MAAT,CAAiBC,QAAD,IAAc;AACvC,eAAOA,QAAQ,CAACC,KAAT,KAAmBb,SAAS,CAACa,KAApC;AACH,OAFY,CAAD,CAAZ;AAGAd,MAAAA,oBAAoB,CAAC,KAAD,CAApB;AACH,KAND,EAOCe,KAPD,CAOO,MAAM;AACTf,MAAAA,oBAAoB,CAAC,KAAD,CAApB;AACH,KATD;AAUH,GAZD;;AAcA,SAAO;AAACD,IAAAA,iBAAD;AAAoBG,IAAAA,SAApB;AAA+BE,IAAAA;AAA/B,GAAP;AACH,CApBM;;GAAMV,e;UAGWF,mB","sourcesContent":["import { useState } from \"react\";\r\nimport { useCurrentLoginUser } from \"./useCurrentLoginUser\";\r\nimport { TweetType } from \"../types/tweetType\";\r\nimport axios from \"axios\";\r\n\r\nexport const useGetAllTweets = () => {\r\n    const ip = process.env.REACT_APP_IP_APSRV;\r\n    const [getAllTweetsState, setGetAllTweetsState] = useState(false);\r\n    const {loginUser} = useCurrentLoginUser();\r\n    const [allTweets, setAllTweets] = useState<Array<TweetType>>([]);\r\n    const getAllTweets = () => {\r\n        setGetAllTweetsState(true);\r\n        axios.get<Array<TweetType>>(`http://${ip}:8080/api/home/allTweets`, {headers: {Authorization: loginUser.token as string}})\r\n        .then((res) => {\r\n            setAllTweets(res.data.filter((allTweet) => {\r\n                return allTweet.email !== loginUser.email;\r\n            }));\r\n            setGetAllTweetsState(false);\r\n        })\r\n        .catch(() => {\r\n            setGetAllTweetsState(false);\r\n        });\r\n    };\r\n\r\n    return {getAllTweetsState, allTweets, getAllTweets};\r\n};"]},"metadata":{},"sourceType":"module"}