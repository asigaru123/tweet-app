{"ast":null,"code":"var _s = $RefreshSig$();\n\nimport axios from \"axios\";\nimport { useState } from \"react\";\nimport { useHistory } from \"react-router\";\nimport { useCurrentLoginUser } from \"./useCurrentLoginUser\";\nexport const useGetMyTweets = () => {\n  _s();\n\n  const history = useHistory();\n  const [getMyTweetState, setGetMyTweetState] = useState(false);\n  const [myTweets, setMyTweets] = useState([]);\n  const {\n    loginUser\n  } = useCurrentLoginUser();\n\n  const getMyTweets = () => {\n    setGetMyTweetState(true);\n    axios.get(`http://localhost:8080/api/home/mytweet/${loginUser.email}`, {\n      headers: {\n        Authorization: loginUser.token\n      }\n    }).then(res => {\n      setMyTweets(res.data);\n      setGetMyTweetState(false);\n    }).catch(() => {\n      setGetMyTweetState(false);\n      history.push(\"/\");\n    });\n  };\n\n  return {\n    getMyTweetState,\n    myTweets,\n    getMyTweets\n  };\n};\n\n_s(useGetMyTweets, \"MmIlKY5d+OG3Y+Pu/hIfTCSobvY=\", false, function () {\n  return [useHistory, useCurrentLoginUser];\n});","map":{"version":3,"sources":["C:/Users/yuma/Desktop/フロント/tweet-app/src/hooks/useGetMyTweets.tsx"],"names":["axios","useState","useHistory","useCurrentLoginUser","useGetMyTweets","history","getMyTweetState","setGetMyTweetState","myTweets","setMyTweets","loginUser","getMyTweets","get","email","headers","Authorization","token","then","res","data","catch","push"],"mappings":";;AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,SAASC,QAAT,QAAyB,OAAzB;AACA,SAASC,UAAT,QAA2B,cAA3B;AAEA,SAASC,mBAAT,QAAoC,uBAApC;AAEA,OAAO,MAAMC,cAAc,GAAG,MAAM;AAAA;;AAChC,QAAMC,OAAO,GAAGH,UAAU,EAA1B;AACA,QAAM,CAACI,eAAD,EAAkBC,kBAAlB,IAAwCN,QAAQ,CAAC,KAAD,CAAtD;AACA,QAAM,CAACO,QAAD,EAAWC,WAAX,IAA0BR,QAAQ,CAAmB,EAAnB,CAAxC;AACA,QAAM;AAACS,IAAAA;AAAD,MAAcP,mBAAmB,EAAvC;;AACA,QAAMQ,WAAW,GAAG,MAAM;AACtBJ,IAAAA,kBAAkB,CAAC,IAAD,CAAlB;AACAP,IAAAA,KAAK,CAACY,GAAN,CAA6B,0CAAyCF,SAAS,CAACG,KAAM,EAAtF,EAAyF;AAACC,MAAAA,OAAO,EAAE;AAACC,QAAAA,aAAa,EAAEL,SAAS,CAACM;AAA1B;AAAV,KAAzF,EACCC,IADD,CACOC,GAAD,IAAS;AACXT,MAAAA,WAAW,CAACS,GAAG,CAACC,IAAL,CAAX;AACAZ,MAAAA,kBAAkB,CAAC,KAAD,CAAlB;AACH,KAJD,EAKCa,KALD,CAKO,MAAM;AACTb,MAAAA,kBAAkB,CAAC,KAAD,CAAlB;AACAF,MAAAA,OAAO,CAACgB,IAAR,CAAa,GAAb;AACH,KARD;AASH,GAXD;;AAaA,SAAO;AAACf,IAAAA,eAAD;AAAkBE,IAAAA,QAAlB;AAA4BG,IAAAA;AAA5B,GAAP;AACH,CAnBM;;GAAMP,c;UACOF,U,EAGIC,mB","sourcesContent":["import axios from \"axios\";\r\nimport { useState } from \"react\";\r\nimport { useHistory } from \"react-router\";\r\nimport { TweetType } from \"../types/tweetType\";\r\nimport { useCurrentLoginUser } from \"./useCurrentLoginUser\";\r\n\r\nexport const useGetMyTweets = () => {\r\n    const history = useHistory();\r\n    const [getMyTweetState, setGetMyTweetState] = useState(false);\r\n    const [myTweets, setMyTweets] = useState<Array<TweetType>>([]);\r\n    const {loginUser} = useCurrentLoginUser();\r\n    const getMyTweets = () => {\r\n        setGetMyTweetState(true);\r\n        axios.get<Array<TweetType>>(`http://localhost:8080/api/home/mytweet/${loginUser.email}`, {headers: {Authorization: loginUser.token as string}})\r\n        .then((res) => {\r\n            setMyTweets(res.data);\r\n            setGetMyTweetState(false);\r\n        })\r\n        .catch(() => {\r\n            setGetMyTweetState(false);\r\n            history.push(\"/\");\r\n        });\r\n    };\r\n\r\n    return {getMyTweetState, myTweets, getMyTweets};\r\n};"]},"metadata":{},"sourceType":"module"}